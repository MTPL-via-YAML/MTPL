# 轻量化 Markdown → 可扩展 PDF 生成工具 — 产品需求文档（PRD）

## 🧩 1. 产品概述

产品名称：轻量化 Markdown → PDF 生成工具（以下简称“PDF 生成器”）

目标：构建一套可扩展的、模板驱动的在线工具，使用户可以将 Markdown 内容转换成符合不同规范要求的 PDF 文档。

该工具支持：

- 多模板选择
- 自定义模板
- 在线 Markdown 编辑
- 实时预览与 PDF 导出
- 规范化排版（如公文、报告、简历等）

## 🎯 2. 核心价值

- 简单易用：Web 端 Markdown 编辑 + 实时预览
- 模板可扩展：支持多种样式协议与排版规范
- 自动编号 + 样式应用：无需手动调整格式
- 元数据驱动：通过 Front-Matter 控制标题、作者、日期、签名等
- PWA 支持：支持安装与移动端体验

## ⚙️ 3. 功能需求

### 🧪 3.1 Markdown 编辑与预览

✔ 支持 Markdown 输入区域
✔ 支持 Markdown 文件上传
✔ 预览区实时渲染效果
✔ 编辑器同步内容到渲染区

### 📄 3.2 多模板选择与渲染

用户可在 UI 中选择模板，例如：

|模板名称| 	适用场景|
|:-:|:-:|
|official_report|官方公文 / 报告|
|academic_paper|论文格式|
|project_brief|项目简介|
|creative_portfolio|作品集|
|resume|个人简历|

✔ 用户选择模板
✔ 样式规则动态加载
✔ 渲染逻辑根据 template_name 与 template_style 组合执行

### 📦 3.3 Front-Matter 元数据解析

支持在 Markdown 文件顶部通过 YAML 定义元数据：

```yaml
---
title: "报告"
author:
  - "Mrered Cio"
  - "Gemini"
  - "ChatGPT"
date: "2025-12-16"
signature: true
template_name: "official_report"
---
```

字段说明：

|字段| 	类型|	说明|
|:-:|:-:|:-:|
|title|	字符串|	PDF 主标题|
|author|	数组|	作者列表，用中文顿号连接|
|date|	字符串|	日期，格式 YYYY-MM-DD|
|signature|	布尔|	是否启用签名模式|
|template_name|	字符串|	所选模板标识|

### 📐 4. 公文类模板规范（示例：official_report）

以下为 “官方公文模板” 的规范要求（作为模板之一）：

#### 🪶 4.1 页面规格

📄 纸张：A4
📏 上边距：37mm
📏 下边距：35mm
📏 内边距：28mm
📏 外边距：26mm
📌 页脚基线：版心下边缘 7mm
📌 页码样式：— 1 —（奇偶页对齐版芯外侧边缘处-1个字符的位置）

#### 🔡 4.2 字体与标题样式

|层级| 	字体|	大小|	样式|	缩进|	编号|
|:-:|:-:|:-:|:-:|:-:|:-:|
|一级标题|	方正小标宋|	22 磅|	加粗|	无|	无|
|二级标题|	黑体|	16 磅|	—|	2 字符|	一、|
|三级标题|	楷体|	16 磅|	—|	2 字符|	（一）|
|四级标题|	仿宋|	16 磅|	—|	2 字符|	1.|
|五级标题|	仿宋|	16 磅|	—|	2 字符|	（1）|

➤ 一级标题居中显示，不编号；其余根据层级自动编号。

### 🧠 5. 签名与作者规则

#### ✔ 5.1 当 signature: false

在 一级标题与正文之间自动插入：

✨ 一行居中的作者信息
- 作者之间用中文顿号连接
- 使用楷体字体

示例输出：

```markdown
张三、李四、王五
```

#### ✔ 5.2 当 signature: true

在 正文末尾自动添加签名块：

📍 整体先空出一行
📍 两行内容整体右对齐，内部居中显示：

```markdown
                张三、李四、王五
                2025-12-16
```

## 📏 6. 缩进规则

### ✅ 6.1 正文默认缩进

- 默认每段缩进 2 个字符宽度
- 列表同样缩进

### ✂ 6.2 取消缩进

➤ 整段取消缩进

使用：

```markdown
::: {.noindent}
这是一段无缩进内容。
:::
```

➤ 行内取消缩进

```markdown
这段文本无缩进。{.noindent}
```

## ↩️ 7. 换行与分页控制

|标记|	作用|
|:-:|:-:|
|{v}|	强制换行|
|{v:3}|	空 3 行|
|{pagebreak}|	分页|

## 🧱 8. 输出与渲染结构

为了方便 AI + PDF 引擎渲染，生成工具需要输出统一结构，例如：

```json
{
  "template": "official_report",
  "meta": {
    "title": "...",
    "authors": ["..."],
    "date": "..."
  },
  "styles": {...},
  "content": [...],
  "signature": {...}
}
```

## 🧠 9. 模板配置与扩展机制

用户可选择内置模板或自定义模板：

📌 模板定义格式（YAML）

```yaml
template_name: "official_report"
template_style:
  font_family:
    title: "方正小标宋"
    body: "仿宋"
  page_margin:
    top: "37mm"
    bottom: "35mm"
    inner: "28mm"
    outer: "26mm"
  numbering: true
  page_number_style: "— {num} —"
  signature_mode: true
```

## 🚀 10. 部署与分发

📌 使用 Vercel 部署
📌 纯前端架构，无后端依赖
📌 支持移动端访问
📌 支持 PWA 安装

## 🎨 11. Logo 与图标需求（AI 生成）

需要生成以下视觉资源：

|用途|	说明|
|:-:|:-:|
|产品 Logo|	通用品牌标识|
|iOS PWA 图标|	各尺寸适配|

风格建议：

✨ 简洁专业
✨ 与“文档 / 报告 / PDF 输出”相关联

## 📦 12. 术语与定义

|术语|	说明|
|:-:|:-:|
|Front-Matter|	Markdown 顶部元数据块|
|PWA|	渐进式 Web 应用|
|版心|	页面内容可用区域|

## 📌 13. 未来扩展方向

💡 模板市场与分享
💡 可视化模板编辑器
💡 多语言支持
💡 用户登录与云端存储
💡 历史版本与草稿管理
